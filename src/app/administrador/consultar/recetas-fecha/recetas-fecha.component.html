<app-encabezado></app-encabezado>

    <div class="prescription-history">
        <h1>FILTRAR RECETAS POR FECHA</h1>
        <div class="fechas">
            <div class="search-bar">
                <label>Fecha desde</label>
                <input type="date"  [(ngModel)]="from"
                    (input)="filterCodes()">
            </div>
            <div class="search-bar">
                <label>Fecha hasta</label>
                <input type="date" [(ngModel)]="to"
                    (input)="filterCodes()">
            </div>
        </div>

        <table *ngIf="recetasFiltradas?.length > 0">
            <thead>
                <tr>
                    <th>Código receta</th>
                    <th>Fecha emisión</th>
                    <th>Nombre del paciente</th>
                    <th>Recetado por</th>
                    <th>Estado de receta</th>

                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let receta of recetasFiltradas">
                    <td>{{ receta.codigoReceta }}</td>
                    <td>{{ receta.fechaEmision | date }}</td>
                    <td>{{ receta.patientName }}</td>
                    <td>{{ receta.medicineName }}</td>
                    <td>{{ receta.estado }}</td>

                </tr>
            </tbody>
        </table>
        <div *ngIf="recetasFiltradas?.length > 0">
            <label>Cantidad de recetas filtradas:</label>
            <span>{{ recetasFiltradas?.length }}</span>
        </div>
        
        <footer class="footer">
            <button *ngIf="recetasFiltradas?.length > 0" class="boton-exportar" (click)="exportar()">Exportar</button>
            <button class="back-button" (click)="volver()">Volver al panel de consulta</button>
        </footer>
   
    </div>
