<app-encabezado></app-encabezado>

<div class="modificar-paciente">

  <h2>MODIFICAR DATOS DEL PACIENTE</h2>
  <form [formGroup]="pacienteForm" (ngSubmit)="guardar()">
    <div class="formulario">
      <div class="campo">
        <label for="nombres">Nombres: *</label>
        <input id="nombres" type="text" formControlName="nombre" name="nombre" />
      </div>
      <div class="campo">
        <label for="apellidos">Apellidos: *</label>
        <input id="apellidos" type="text" formControlName="apellido" name="apellido" />
      </div>
      <div class="campo">
        <label for="patientId">DNI: *</label>
        <input id="patientId" type="text" [value]="paciente?.dni" readonly />
      </div>
      <div class="campo">
        <label for="fechaNacimiento">Fecha de nacimiento: *</label>
        <input id="fechaNacimiento" type="date" formControlName="fechaNacimiento" name="fechaNacimiento" required />

      </div>
      <div class="campo">
        <label for="genero">Sexo: *</label>
        <select id="genero" formControlName="genero" required>
          <option value="M">Masculino</option>
          <option value="F">Femenino</option>
        </select>
      </div>
      <div class="campo">
        <label for="nacionalidad">Nacionalidad: *</label>
        <input id="nacionalidad" type="text" formControlName="nacionalidad" name="nacionalidad" />
      </div>
      <div class="campo">
        <label for="direccion">Domicilio: *</label>
        <input id="direccion" type="text" formControlName="direccion" name="direccion" />
      </div>

      <div class="campo">
        <label for="localidad">Localidad: *</label>
        <input id="localidad" type="text" formControlName="localidad" name="localidad" />
      </div>
      <div class="campo">
        <label for="provincia">Provincia: *</label>
        <input id="provincia" type="text" formControlName="provincia" name="provincia" />
      </div>
      <div class="campo">
        <label for="celular">Celular: *</label>
        <input id="celular" type="tel" formControlName="celular" name="celular" />
      </div>

      <div class="campo">
        <label for="telefono">Teléfono fijo: </label>
        <input id="telefono" type="tel" formControlName="telefono" name="telefono" />
      </div>
      <div class="campo">
        <label for="email">E-Mail: *</label>
        <input id="email" type="text" formControlName="email" name="email" />
      </div>
      <div class="campo">
        <label for="obraSocial">Obra social: *</label>
        <select id="obraSocial" formControlName="obraSocialId" (change)="onSelectionChange($event)" required>
          <option *ngFor="let os of obraSociales" [value]="os.socialWorkId">
            {{ os.name }}
          </option>
        </select>
      </div>
      <div class="campo">
        <label for="planSocial">Plan de obra social: *</label>
        <select id="planSocial" formControlName="planSocial" required>
          <option *ngFor="let plan of planes; let index = index" [value]="index + 1">
            {{ plan }}
          </option>
        </select>
      </div>
      <div *ngIf="mostrarAfi" class="campo">
        <label for="numeroAfiliado">Número de afiliado: *</label>
        <input id="numeroAfiliado" type="text"  formControlName="numeroAfiliado" name="numeroAfiliado" />
      </div>
      <div class="campo">
        <label for="inscriptionDate">Fecha de inscripción:</label>
        <input type="text" [value]="fechaInscri | date: 'mediumDate'" readonly />
      </div>

      <div class="botones">

        <button type="submit" class="modificar">Aceptar</button>
        <button type="button" class="cancelar" (click)="volver()">Cancelar</button>
      </div>
    </div>
  </form>
  <div *ngIf="loading" class="spinner-overlay">
    <div class="spinner"></div>
  </div>    
</div>